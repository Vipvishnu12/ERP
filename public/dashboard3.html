<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced HOD Dashboard</title>
    <link rel="stylesheet" href="dash.css">
</head>
<body>
   <!-- Sidebar -->
   <div class="sidebar">
    <div class="sidebar-header">HOD Portal</div>
    <div class="sidebar-subheader">Department Dashboard</div>
    <div class="sidebar-menu">
        <div class="sidebar-menu-item active">
            <i>📊</i> Dashboard
        </div>
        <div class="sidebar-menu-item" id="studentMenuItem">
            <i>👨‍🎓</i> Students
        </div>
        <div class="sidebar-menu-item" id="facultyMenuItem">
            <i>👨‍🏫</i> Faculty
        </div>
        <div class="sidebar-menu-item" id="placementMenuItem">
            <i>💼</i> Placements
        </div>
        <div class="sidebar-menu-item" id="AttendanceMenuItem">
            <i>📅</i> Attendance
        </div>
        <div class="sidebar-menu-item"  id="logoutMenuItem">
            <i>🚪</i> Logout
        </div>
    </div>
</div>

<!-- Main Content -->
<div class="main-content">
    <div class="header">
        <h1>Department Dashboard</h1>
        <a id="facultyLink" class="back-link">Search</a>
    </div>

    <!-- Stats Cards -->
    <div class="dashboard-stats">
        <div class="stat-card">
            <div class="stat-card-header">
                <div class="stat-card-icon">👨‍🎓</div>
                <div>Total Students</div>
            </div>
            <div class="stat-value" id="totalstudents">--
            </div>
            <div class="stat-label1" id="1styear">--</div>
            <div class="stat-label" id="2styear">--</div>
            <div class="stat-label" id="3styear">--</div>
            <div class="stat-label" id="4styear">--</div>
                
           <div class="stat-label">Current enrollment</div>
           
        
        </div>
        
        <div class="stat-card">
            <div class="stat-card-header">
                <div class="stat-card-icon">💼</div>
                <div>Placements</div>
            </div>
            <div class="stat-value" id="placements">--</div>
            <div class="stat-label">Students placed</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-card-header">
                <div class="stat-card-icon">⛔</div>
                <div>Absentees</div>
            </div>
            <div class="stat-value" id="absentees">--</div>
            <div class="stat-label" id="longabs">--</div>
            <div class="stat-label">Today's count</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-card-header">
                <div class="stat-card-icon">👨‍🏫</div>
                <div>Faculty</div>
            </div>
            <div class="stat-value" id="faculty">--</div>
            <div class="stat-label" id="teach">--</div>
            <div class="stat-label" id="nonteach">--</div>
            <div class="stat-label">Academic staff</div>

        </div>
    </div>

    <!-- Dashboard layout with Pie Chart and Faculty Performance -->
    <div class="dashboard-layout">
        <!-- Pie Chart Section - on the left side -->
        <div class="chart-container">
            <div class="chart-header">
                <div class="chart-icon">📊</div>
                <div class="chart-title">Student Placement Distribution</div>
            </div>
            <div class="chart-content">
                <div class="pie-chart-container" id="placementChart"></div>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #4285F4;"></div>
                        <div class="legend-text">
                            <span class="legend-label">Placed</span>
                            <span class="legend-value" id="placed1">--</span>
                        </div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #EA4335;"></div>
                        <div class="legend-text">
                            <span class="legend-label">Not Placed</span>
                            <span class="legend-value" id="notplaced1">--</span>
                        </div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #FBBC05;"></div>
                        <div class="legend-text">
                            <span class="legend-label">not willing</span>
                            <span class="legend-value" id="notwilling1">--</span>
                        </div>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #34A853;"></div>
                        <div class="legend-text">
                            <span class="legend-label">Not Eligible</span>
                            <span class="legend-value" id="notelligible1">--</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Faculty Performance Section - now on the right side -->
        <div class="performance-section">
            <div class="performance-header">
                <div class="performance-icon">📊</div>
                <div class="performance-title">Faculty Performance</div>
            </div>
            
            <table id="facultyTable">
                <thead>
                    <tr>
                        <!-- <th>Faculty ID</th> -->
                        <th>Name</th>
                        <!-- <th>Department</th> -->
                        <th>Research Papers</th>
                        <!-- <th>Student Feedback</th> -->
                        <th>Workshops</th>
                        <th>Performance</th>
                        <!-- <th>Action</th> -->
                    </tr>
                </thead>
                <tbody id="datacontainer">
                   
                </tbody>
            </table>
            <a href="#" class="view-more-btn" id="viewperformance">View All Performance →</a>

            <!-- <a href="#" class="view-more-btn">View More →</a> -->
        </div>
    </div>

    <!-- Recent Course Performance Section -->
    <div class="performance-section">
        <div class="performance-header">
            <div class="performance-icon">🖥</div>
            <div class="performance-title">Recent Course Performance</div>
        </div>
        
        <table class="course-table">
            <thead>
                <tr>
                    <th>Course Code</th>
                    <th>Course Name</th>
                    <th>Faculty</th>
                    <th>No of attendees</th>
                    <th>No of Pass</th>
                    <th>No of Fail</th>
                    <th>90-100</th>
                    <th>80-90</th>
                    <th>70-80</th>
                    <th>No of Arrears</th>
                </tr>
            </thead>
            <tbody id="course-body">
               
            </tbody>
        </table>
        
        <a href="#" class="view-more-btn" id="viewAllCoursesBtn">View All Courses →</a>
    </div>
</div>

    <!-- Student Distribution Sections -->
    <div class="end-tables-container">
        <!-- CGPA Distribution Section -->
        <div class="cgpa-graph-section">
            <div class="cgpa-header">
                <div class="cgpa-icon">📈</div>
                <div class="cgpa-title">Student CGPA Distribution</div>
            </div>

            <div class="chart-container">
                <div class="cgpa-y-axis">
                    <div class="cgpa-y-label">50</div>
                    <div class="cgpa-y-label">40</div>
                    <div class="cgpa-y-label">30</div>
                    <div class="cgpa-y-label">20</div>
                    <div class="cgpa-y-label">10</div>
                    <div class="cgpa-y-label">0</div>
                </div>

                <div class="cgpa-chart" id="cgpaChart">
                    <!-- Bars will be generated by JavaScript -->
                </div>

                <div class="cgpa-x-axis">
                    <div class="cgpa-x-label">Arrears</div>
                    <div class="cgpa-x-label">Dull<br/>(0-4)</div>
                    <div class="cgpa-x-label">Average<br/>(4-6)</div>
                    <div class="cgpa-x-label">Good<br/>(6-8)</div>
                    <div class="cgpa-x-label">Best<br/>(8-10)</div>
                </div>
            </div>
        </div>

        <!-- Attendance Distribution Section -->
        <div class="attendance-section">
            <div class="attendance-header">
                <div class="attendance-icon">📅</div>
                <div class="attendance-title">Student Attendance Distribution</div>
            </div>

            <div class="attendance-content">
                <div class="filter-row">
                    <select id="attendanceYearFilter">
                        <option value="all">All Years</option>
                        <option value="1">1st Year</option>
                        <option value="2">2nd Year</option>
                        <option value="3">3rd Year</option>
                        <option value="4">4th Year</option>
                    </select>
                    <select id="attendanceDeptFilter">
                        <option value="all">All Departments</option>
                        <option value="CSE">CSE</option>
                        <option value="IT">IT</option>
                        <option value="ECE">ECE</option>
                        <option value="Mech">Mechanical</option>
                    </select>
                </div>

                <table class="attendance-table">
                    <thead>
                        <tr>
                            <th>Attendance Range</th>
                            <th>Count</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Critical (<50%)</td>
                            <td id="critical-count">12</td>
                            <td><button class="view-details-btn" data-range="critical">View Students</button></td>
                        </tr>
                        <tr>
                            <td>Poor (50-75%)</td>
                            <td id="poor-count">23</td>
                            <td><button class="view-details-btn" data-range="poor">View Students</button></td>
                        </tr>
                        <tr>
                            <td>Average (75-85%)</td>
                            <td id="average-count">45</td>
                            <td><button class="view-details-btn" data-range="average">View Students</button></td>
                        </tr>
                        <tr>
                            <td>Good (>85%)</td>
                            <td id="good-count">68</td>
                            <td><button class="view-details-btn" data-range="good">View Students</button></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Student CGPA Popup -->
<div class="overlay" id="overlay"></div>
<div class="student-popup" id="studentPopup">
    <div class="popup-header">
        <div class="popup-title" id="popupTitle">Students in Category</div>
        <button class="close-popup" id="closePopup">&times;</button>
    </div>
    <table class="student-table" id="studentTable">
        <thead>
            <tr>
                <th>Roll No</th>
                <th>Name</th>
                <th>CGPA</th>
                <th>Department</th>
                <th>Year</th>
            </tr>
        </thead>
        <tbody id="studentTableBody">
            <!-- Student data will be populated here -->
        </tbody>
    </table>
</div>

<!-- Attendance Popup -->
<div class="student-popup" id="attendancePopup">
    <div class="attendance-graph-section">
        <div class="attendance-header">
            <div class="attendance-icon">📋</div>
            <div class="attendance-title">Student Attendance Distribution</div>
        </div>
        
        <div class="chart-container">
            <div class="attendance-y-axis">
                <div class="attendance-y-label">50</div>
                <div class="attendance-y-label">40</div>
                <div class="attendance-y-label">30</div>
                <div class="attendance-y-label">20</div>
                <div class="attendance-y-label">10</div>
                <div class="attendance-y-label">0</div>
            </div>
            
            <div class="attendance-chart" id="attendanceChart">
                <!-- Bars will be generated by JavaScript -->
            </div>
            
            <div class="attendance-x-axis">
                <div class="attendance-x-label">Critical<br/>(&lt;50%)</div>
                <div class="attendance-x-label">Low<br/>(&lt;75%)</div>
                <div class="attendance-x-label">Average<br/>(&lt;85%)</div>
                <div class="attendance-x-label">Good<br/>(&gt;85%)</div>
            </div>
        </div>
    </div>
    
    <!-- Add this after the studentPopup div -->
    <div class="attendance-popup" id="attendancePopup">
        <div class="popup-header">
            <div class="popup-title" id="attendancePopupTitle">Students with Attendance</div>
            <button class="close-popup" id="closeAttendancePopup">&times;</button>
        </div>
        <table class="student-table" id="attendanceTable">
            <thead>
                <tr>
                    <th>Roll No</th>
                    <th>Name</th>
                    <th>Attendance %</th>
                    <th>Department</th>
                    <th>Year</th>
                </tr>
            </thead>
            <tbody id="attendanceTableBody">
                <!-- Student attendance data will be populated here -->
            </tbody>
        </table>
    </div>    
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.min.js"></script>
<script src="dash.js">
        
</script>

 
</body>
</html>